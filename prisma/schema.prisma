// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Inscription {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Informations générales
  teamName           String   @unique
  country            String
  edition            String
  organization       String
  organizationOther  String?
  numberOfMembers    Int      // 2 ou 3
  projectTitle       String?
  projectDescription String?
  paymentMethod      String
  paymentMethodOther String?
  paymentReference   String
  teamRepresentative String
  selectedTrack      String[] // Array de strings pour les volets choisis

  // Participant 1
  participant1Name        String
  participant1Phone       String
  participant1Email       String   @unique
  participant1BirthDate   DateTime
  participant1Gender      String   // "H" ou "F"
  participant1Education   String
  participant1Status      String[] // Array de strings pour les statuts

  // Participant 2
  participant2Name        String
  participant2Phone       String
  participant2Email       String   @unique
  participant2BirthDate   DateTime
  participant2Gender      String   // "H" ou "F"
  participant2Education   String
  participant2Status      String[] // Array de strings pour les statuts

  // Participant 3 (optionnel)
  participant3Name        String?
  participant3Phone       String?
  participant3Email       String?  @unique
  participant3BirthDate   DateTime?
  participant3Gender      String?  // "H" ou "F"
  participant3Education   String?
  participant3Status      String[] // Array de strings pour les statuts

  // Validation
  validationDate DateTime
  acceptTerms    Boolean  @default(false)

  @@map("inscriptions")
}
